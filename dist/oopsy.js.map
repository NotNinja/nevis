{"version":3,"file":"oopsy.js","sources":["../src/oopsy.js"],"sourcesContent":["/*\n * Copyright (C) 2016 Alasdair Mercer, Skelp\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\n/**\n * A bare-bones constructor for surrogate prototype swapping.\n *\n * @private\n * @constructor\n */\nvar Constructor = function() {}\n/**\n * A reference to <code>Object.prototype.hasOwnProperty</code>.\n *\n * @private\n * @type {Function}\n */\nvar hasOwnProperty = Object.prototype.hasOwnProperty\n/**\n * A reference to <code>Array.prototype.slice</code>.\n *\n * @private\n * @type {Function}\n */\nvar slice = Array.prototype.slice\n\n/**\n * Extends the specified <code>target</code> object with the properties in each of the <code>sources</code> provided.\n *\n * Nothing happens if <code>target</code> is <code>null</code> and if any source is <code>null</code> it will be\n * ignored.\n *\n * @param {boolean} own - <code>true</code> to only copy <b>own</b> properties from <code>sources</code> onto\n * <code>target</code>; otherwise <code>false</code>\n * @param {Object} [target] - the target object which should be extended\n * @param {...Object} [sources] - the source objects whose properties are to be copied onto <code>target</code>\n * @return {void}\n * @private\n */\nfunction extend(own, target, sources) {\n  if (target == null) {\n    return\n  }\n\n  sources = slice.call(arguments, 2)\n\n  var property\n  var source\n\n  for (var i = 0, length = sources.length; i < length; i++) {\n    source = sources[i]\n\n    for (property in source) {\n      if (!own || hasOwnProperty.call(source, property)) {\n        target[property] = source[property]\n      }\n    }\n  }\n}\n\n/**\n * Creates an object which inherits the given <code>prototype</code>.\n *\n * Optionally, the created object can be extended further with the specified <code>properties</code>.\n *\n * @param {Object} prototype - the prototype to be inherited by the created object\n * @param {Object} [properties] - the optional properties to be extended by the created object\n * @return {Object} The newly created object.\n * @private\n */\nfunction create(prototype, properties) {\n  var result\n  if (typeof Object.create === 'function') {\n    result = Object.create(prototype)\n  } else {\n    Constructor.prototype = prototype\n    result = new Constructor()\n    Constructor.prototype = null\n  }\n\n  if (properties) {\n    extend(true, result, properties)\n  }\n\n  return result\n}\n\n/**\n * The base constructor from which all others should extend.\n *\n * @public\n * @constructor\n */\nexport default function Oopsy() {}\n\n/**\n * Extends the constructor to which this method is associated with the <code>prototype</code> and/or\n * <code>statics</code> provided.\n *\n * If <code>constructor</code> is provided, it will be used as the constructor for the child, otherwise a simple\n * constructor which only calls the super constructor will be used instead.\n *\n * The super constructor can be accessed via a special <code>super_</code> property on the child constructor.\n *\n * @param {Function} [constructor] - the constructor for the child\n * @param {Object} [prototype] - the prototype properties to be defined for the child\n * @param {Object} [statics] - the static properties to be defined for the child\n * @return {Function} The child <code>constructor</code> provided or the one created if none was given.\n * @public\n * @static\n */\nOopsy.extend = function(constructor, prototype, statics) {\n  var superConstructor = this\n\n  if (typeof constructor !== 'function') {\n    statics = prototype\n    prototype = constructor\n    constructor = function() {\n      return superConstructor.apply(this, arguments)\n    }\n  }\n\n  extend(false, constructor, superConstructor, statics)\n\n  constructor.prototype = create(superConstructor.prototype, prototype)\n  constructor.prototype.constructor = constructor\n\n  constructor.super_ = superConstructor\n\n  return constructor\n}\n"],"names":[],"mappings":"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"}